<h2 mat-dialog-title *ngIf="action =='Create'">Neuen Azubi erstellen</h2><h2 mat-dialog-title *ngIf="action=='Update'">Azubi bearbeiten</h2>
<mat-dialog-content class="mat-typography">
  <p>
    Geben Sie bitte den Namen, den Nachnamen und die Stammeinrichtung des Azubis an.<br />
  </p>
 
  <div class="example-container">
    <!-- Feld für den Azubinamen -->
    <mat-form-field hintLabel="Maximal 30 Zeichen" appearance="fill">
      <mat-label>Name des Azubis</mat-label>
      <input matInput #firstNameInput maxlength="30" [(ngModel)]="traineeObj.firstName">
      <mat-hint align="end">{{firstNameInput.value?.length || 0}}/30</mat-hint>
    </mat-form-field>
    <!-- Feld für den Nachnamn des Azubis -->
    <mat-form-field hintLabel="Maximal 30 Zeichen" appearance="fill">
      <mat-label>Nachname des Azubis</mat-label>
      <input matInput #nameInput maxlength="30" [(ngModel)]="traineeObj.name">
      <mat-hint align="end">{{nameInput.value?.length || 0}}/30</mat-hint>
    </mat-form-field>
    <!-- Feld für die E-Mail Adresse des Azubis -->
    <mat-form-field hintLabel="Maximal 30 Zeichen" appearance="fill" *ngIf="action == 'Create' ">
      <mat-label>E-Mail Adresse des Azubis</mat-label>
      <input matInput #adressInput maxlength="30" [(ngModel)]="traineeObj.email">
      <mat-hint align="end">{{adressInput.value?.length || 0}}/30</mat-hint>
    </mat-form-field>
    <!-- Feld für die Stammeinrichtung -->
    <mat-form-field appearance="fill">
      <mat-label>Stammeinrichtung wählen</mat-label>
      <mat-select [(ngModel)]="selectedFacility">
        <mat-option *ngFor="let facility of dialogfacilityArray" [value]="facility">
          <!--HINWEIS: [value]="facility.name", um nicht ein Objekt, sondern nur die String auszuwählen-->
          <!-- HINWEIS: [value] wird benötigt, damit der ausgewählte Wert ausgewählt bleibt -->
          {{facility.name}}
        </mat-option>
      </mat-select>
      <mat-hint align="end" *ngIf = "selectedFacility">Verwendet {{selectedFacility.usedCapacity}} von {{selectedFacility.capacity}}</mat-hint>
    </mat-form-field>
  </div>
</mat-dialog-content>
<mat-label style="color:crimson" *ngIf = " selectedFacility && (selectedFacility.usedCapacity >= selectedFacility.capacity)">Keine Kapazitäten mehr frei in dieser Einrichtung!</mat-label> 

<mat-dialog-actions align="End">
  <button mat-raised-button color="primary" mat-dialog-close>Abbrechen</button>
  <button mat-raised-button (click)="createOrUpdate()" color="primary" [disabled]="!traineeObj.firstName || !traineeObj.name || !traineeObj.email ||
  !selectedFacility || (selectedFacility.usedCapacity >= selectedFacility.capacity)">{{action}}</button>
</mat-dialog-actions>